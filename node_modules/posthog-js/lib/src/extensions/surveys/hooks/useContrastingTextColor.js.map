{"version":3,"file":"useContrastingTextColor.js","sourceRoot":"","sources":["../../../../../src/extensions/surveys/hooks/useContrastingTextColor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAA;AAG1D,OAAO,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAA;AAE/C,MAAM,UAAU,uBAAuB,CAAC,OAIvC;;IAIG,IAAM,GAAG,GAAG,MAAM,CAAc,IAAI,CAAC,CAAA;IAC/B,IAAA,KAAA,OAA4B,QAAQ,CAAC,MAAA,OAAO,CAAC,gBAAgB,mCAAI,OAAO,CAAC,IAAA,EAAxE,SAAS,QAAA,EAAE,YAAY,QAAiD,CAAA;IAE/E,4EAA4E;IAC5E,SAAS,CAAC;QACN,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;YACd,IAAM,KAAK,GAAG,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;YACvC,YAAY,CAAC,KAAK,CAAC,CAAA;QACvB,CAAC;IACL,CAAC,EAAE,CAAC,OAAO,CAAC,UAAU,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC,CAAA;IAE7C,OAAO;QACH,GAAG,KAAA;QACH,SAAS,WAAA;KACZ,CAAA;AACL,CAAC","sourcesContent":["import { useEffect, useRef, useState } from 'preact/hooks'\nimport { SurveyAppearance } from '../../../posthog-surveys-types'\nimport * as Preact from 'preact'\nimport { getTextColor } from '../surveys-utils'\n\nexport function useContrastingTextColor(options: {\n    appearance: SurveyAppearance\n    defaultTextColor?: string\n    forceUpdate?: boolean\n}): {\n    ref: Preact.RefObject<HTMLElement>\n    textColor: string\n} {\n    const ref = useRef<HTMLElement>(null)\n    const [textColor, setTextColor] = useState(options.defaultTextColor ?? 'black')\n\n    // TODO: useContext to get the background colors instead of querying the DOM\n    useEffect(() => {\n        if (ref.current) {\n            const color = getTextColor(ref.current)\n            setTextColor(color)\n        }\n    }, [options.appearance, options.forceUpdate])\n\n    return {\n        ref,\n        textColor,\n    }\n}\n"]}