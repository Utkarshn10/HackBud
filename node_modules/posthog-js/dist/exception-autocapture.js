!function(){"use strict";function e(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function n(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach((function(e){r(n,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}function r(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function t(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(e,n)||o(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){if(e){if("string"==typeof e)return i(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,n):void 0}}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function a(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw a}}}}var c=Array.isArray,l=Object.prototype.toString,u=c||function(e){return"[object Array]"===l.call(e)},f=function(e){return"function"==typeof e},s=function(e){return e===Object(e)&&!u(e)},d=function(e){return void 0===e},v=function(e){return"[object String]"==l.call(e)},p=function(e){return v(e)&&0===e.trim().length},y=function(e){return null===e};function h(e){return!d(Event)&&g(e,Event)}function g(e,n){try{return e instanceof n}catch(e){return!1}}function E(e){return y(e)||!s(e)&&!f(e)}function b(e,n){return Object.prototype.toString.call(e)==="[object ".concat(n,"]")}function x(e){return b(e,"DOMError")}var _=/\(error: (.*)\)/,m=50,O="?";function w(e,n,r,t){var o={filename:e,function:"<anonymous>"===n?O:n,in_app:!0};return d(r)||(o.lineno=r),d(t)||(o.colno=t),o}var j=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,S=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,T=/\((\S*)(?::(\d+))(?::(\d+))\)/,M=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,A=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,P=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var o=r.sort((function(e,n){return e[0]-n[0]})).map((function(e){return e[1]}));return function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=[],i=e.split("\n"),c=r;c<i.length;c++){var l=i[c];if(!(l.length>1024)){var u=_.test(l)?l.replace(_,"$1"):l;if(!u.match(/\S*Error: /)){var f,s=a(o);try{for(s.s();!(f=s.n()).done;){var d=(0,f.value)(u);if(d){t.push(d);break}}}catch(e){s.e(e)}finally{s.f()}if(t.length>=m)break}}}return function(e){if(!e.length)return[];var r=Array.from(e);return r.reverse(),r.slice(0,m).map((function(e){return n(n({},e),{},{filename:e.filename||D(r).filename,function:e.function||O})}))}(t)}}.apply(void 0,[[30,function(e){var n=j.exec(e);if(n){var r=t(n,4),o=r[1],i=r[2],a=r[3];return w(o,O,+i,+a)}var c=S.exec(e);if(c){if(c[2]&&0===c[2].indexOf("eval")){var l=T.exec(c[2]);l&&(c[2]=l[1],c[3]=l[2],c[4]=l[3])}var u=t($(c[1]||O,c[2]),2),f=u[0];return w(u[1],f,c[3]?+c[3]:void 0,c[4]?+c[4]:void 0)}}],[50,function(e){var n=M.exec(e);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=A.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var o=n[3],i=n[1]||O,a=t($(i,o),2);return i=a[0],w(o=a[1],i,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}]]);function D(e){return e[e.length-1]||{}}var R,$=function(e,n){var r=-1!==e.indexOf("safari-extension"),t=-1!==e.indexOf("safari-web-extension");return r||t?[-1!==e.indexOf("@")?e.split("@")[0]:O,r?"safari-extension:".concat(n):"safari-web-extension:".concat(n)]:[e,n]};!function(e){e.GZipJS="gzip-js",e.Base64="base64"}(R||(R={}));var k=["fatal","error","warning","log","info","debug"],U=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function I(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.stacktrace||e.stack||"",t=function(e){if(e&&H.test(e.message))return 1;return 0}(e);try{var o=P(r,t);return o.slice(0,o.length-n)}catch(e){}return[]}var H=/Minified React error #\d+;/i;function N(e,n){var r,t,o=I(e),i=null===(r=null==n?void 0:n.handled)||void 0===r||r,a=null!==(t=null==n?void 0:n.synthetic)&&void 0!==t&&t;return{$exception_list:[{type:null!=n&&n.overrideExceptionType?n.overrideExceptionType:e.name,value:null!=n&&n.overrideExceptionMessage?n.overrideExceptionMessage:function(e){var n=e.message;if(n.error&&"string"==typeof n.error.message)return n.error.message;return n}(e),stacktrace:{frames:o},mechanism:{handled:i,synthetic:a}}],$exception_level:"error"}}function G(e,n){var r,t,o,i=null===(r=null==n?void 0:n.handled)||void 0===r||r,a=null===(t=null==n?void 0:n.synthetic)||void 0===t||t,c={type:null!=n&&n.overrideExceptionType?n.overrideExceptionType:null!==(o=null==n?void 0:n.defaultExceptionType)&&void 0!==o?o:"Error",value:null!=n&&n.overrideExceptionMessage?n.overrideExceptionMessage:e||(null==n?void 0:n.defaultExceptionMessage),mechanism:{handled:i,synthetic:a}};if(null!=n&&n.syntheticException){var l=I(n.syntheticException,1);l.length&&(c.stacktrace={frames:l})}return{$exception_list:[c],$exception_level:"error"}}function z(e,n){var r,t,o,i=null===(r=null==n?void 0:n.handled)||void 0===r||r,a=null===(t=null==n?void 0:n.synthetic)||void 0===t||t,c=null!=n&&n.overrideExceptionType?n.overrideExceptionType:h(e)?e.constructor.name:"Error",l=null!=n&&n.overrideExceptionMessage?n.overrideExceptionMessage:"Non-Error ".concat("exception"," captured with keys: ",function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var t=r.length;t>0;t--){var o=r.slice(0,t).join(", ");if(!(o.length>n))return t===r.length||o.length<=n?o:"".concat(o.slice(0,n),"...")}return""}(e)),u={type:c,value:l,mechanism:{handled:i,synthetic:a}};if(null!=n&&n.syntheticException){var f=I(null==n?void 0:n.syntheticException,1);f.length&&(u.stacktrace={frames:f})}return{$exception_list:[u],$exception_level:(o=e.level,v(o)&&!p(o)&&k.indexOf(o)>=0?e.level:"error")}}function q(e,r){var o=t(e,5),i=o[0];o[1],o[2],o[3];var a=o[4],c={$exception_list:[]},l=a||i;if(x(l)||function(e){return b(e,"DOMException")}(l)){var u=l;if(function(e){return"stack"in e}(l))c=N(l,r);else{var f=u.name||(x(u)?"DOMError":"DOMException"),s=u.message?"".concat(f,": ").concat(u.message):f,p=x(u)?"DOMError":"DOMException";c=G(s,n(n({},r),{},{overrideExceptionType:p,defaultExceptionMessage:s}))}return"code"in u&&(c.$exception_DOMException_code="".concat(u.code)),c}if(function(e){return b(e,"ErrorEvent")}(l)&&l.error)return N(l.error,r);if(function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return g(e,Error)}}(l))return N(l,r);if(function(e){return b(e,"Object")}(l)||h(l))return z(l,r);if(d(a)&&v(i)){var y="Error",E=i,_=i.match(U);return _&&(y=_[1],E=_[2]),G(E,n(n({},r),{},{overrideExceptionType:y,defaultExceptionMessage:E}))}return G(l,r)}function C(e){var n=function(e){if(E(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t(e,1)[0]);return E(n)?G("Non-Error promise rejection captured with value: ".concat(String(n)),{handled:!1,synthetic:!1,overrideExceptionType:"UnhandledRejection"}):q([n],{handled:!1,overrideExceptionType:"UnhandledRejection",defaultExceptionMessage:String(n)})}var L="undefined"!=typeof window?window:void 0,W="undefined"!=typeof globalThis?globalThis:L,X=null==W?void 0:W.navigator;null==W||W.document,null==W||W.location,null==W||W.fetch,null!=W&&W.XMLHttpRequest&&"withCredentials"in new W.XMLHttpRequest&&W.XMLHttpRequest,null==W||W.AbortController,null==X||X.userAgent;var B=null!=L?L:{},F="[PostHog.js]",J={_log:function(e){if(L&&B.POSTHOG_DEBUG&&!d(L.console)&&L.console){for(var n=("__rrweb_original__"in L.console[e]?L.console[e].__rrweb_original__:L.console[e]),r=arguments.length,t=new Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];n.apply(void 0,[F].concat(t))}},info:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];J._log.apply(J,["log"].concat(n))},warn:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];J._log.apply(J,["warn"].concat(n))},error:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];J._log.apply(J,["error"].concat(n))},critical:function(){for(var e,n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];(e=console).error.apply(e,[F].concat(r))},uninitializedWarning:function(e){J.error("You must initialize PostHog before calling ".concat(e))}},Y={wrapOnError:function(e){var n=L;n||J.info("window not available, cannot wrap onerror");var r=n.onerror;return n.onerror=function(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];var a=q(o);return e(a),null!==(n=null==r?void 0:r.apply(void 0,o))&&void 0!==n&&n},n.onerror.__POSTHOG_INSTRUMENTED__=!0,function(){var e;null===(e=n.onerror)||void 0===e||delete e.__POSTHOG_INSTRUMENTED__,n.onerror=r}},wrapUnhandledRejection:function(e){var n=L;n||J.info("window not available, cannot wrap onUnhandledRejection");var r=n.onunhandledrejection;return n.onunhandledrejection=function(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var c=C(i);return e(c),null!==(t=null==r?void 0:r.apply(n,i))&&void 0!==t&&t},n.onunhandledrejection.__POSTHOG_INSTRUMENTED__=!0,function(){var e;null===(e=n.onunhandledrejection)||void 0===e||delete e.__POSTHOG_INSTRUMENTED__,n.onunhandledrejection=r}}};B.__PosthogExtensions__=B.__PosthogExtensions__||{},B.__PosthogExtensions__.errorWrappingFunctions=Y,B.__PosthogExtensions__.parseErrorAsProperties=q,B.posthogErrorWrappingFunctions=Y,B.parseErrorAsProperties=q}();
//# sourceMappingURL=exception-autocapture.js.map
